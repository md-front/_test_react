{"version":3,"sources":["helpers.js","styles/components/Items/ItemsVacancy.module.scss","styles/components/Header.module.scss","styles/components/Items/ItemsItem.module.scss","styles/components/Items/ItemsInner.module.scss","styles/components/Items/ItemsTitle.module.scss","assets/star.svg","assets/del.svg","styles/components/Items/Items.module.scss","styles/components/Items/ItemsList.module.scss","components/Header.jsx","components/Items/ItemsVacancy.jsx","components/Items/ItemsItem.jsx","components/Items/ItemsList.jsx","components/Items/ItemsInner.jsx","components/Items/ItemsSection.jsx","components/Items/ItemsTitle.jsx","components/Items/Items.jsx","pages/Main.jsx","App.js","index.js"],"names":["module","exports","setLS","key","payload","localStorage","setItem","JSON","stringify","getLS","parse","getItem","sortByReduction","arr","param","sort","a","b","sortByIncreasing","checkItems","state","some","element","btns","img","fav","className","disableClassName","disableName","text","actionType","del","props","styles","map","btn","index","type","onClick","clearItems","src","ItemsVacancy","isHover","toggleBlacklist","bind","handleMouseHover","this","setState","e","preventDefault","stopPropagation","params","id","vacancy","parentId","employer","handleClickAction","salary","href","alternate_url","link","onMouseEnter","onMouseLeave","target","name","popup","from","to","snippet","requirement","description","dangerouslySetInnerHTML","__html","React","Component","ItemsItem","logoUrl","item","items","logo_urls","is_jun","jun","title","value","is_del","ItemsList","haveVisibleItem","GROUP_NAMES","is_fav","is_new","is_salary","default","ItemsInner","itemsList","ACTION_TYPES","favorites","blacklist","DEFAULT_SORT","ItemsSection","groups","section","isLoaded","vacancies","favoritesAction","blacklistAction","visibleVacancies","getVacancies","groupVacancies","loadedData","handleLoaded","prevAllProps","init","forEach","action","activityCheck","length","Object","keys","prevProps","actualProps","prevIds","actualIds","filter","includes","changedId","find","vacancyId","isAdding","prevGroup","newGroup","itemIndex","PARAMS","adding","newGroupId","createNewGroup","createGroup","removing","currentParams","group","sortValue","call","push","splice","i","topVacancySort","updatedData","getVacanciesStep","zeroStep","result","firstStep","pagesLeft","window","LOAD_ALL_DATA","step","pageNum","exp","fetch","location","response","ok","json","pages","Error","status","validVacancies","lastValidDate","Date","NEW_IN_DAYS","match","NECESSARY","UNNECESSARY","employerId","hasOwnProperty","isJun","JUNIOR","created_at","setGroupParams","paramName","groupItems","values","groupType","renderItems","renderItemsIsEmpty","renderItemsOnLoad","ItemsTitle","is_active","active","handleClick","locations","sections","activeSectionId","handleClickSectionTitle","activeSection","prevActiveSection","nav","quantity","activeQuantity","Main","getDataFromStorage","storage","empty","createEmptyStore","sectionId","setItems","Header","isFavActive","isBtnActive","isDelActive","App","RegExp","COMPANY_BLACKLIST","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.34530ab1.chunk.js","sourcesContent":["/* todo избавиться от файла, раскидать по компонентам? */\r\nmodule.exports = {\r\n\r\n    /** Storage Actions */\r\n    setLS(key, payload) {\r\n        return localStorage.setItem(key, JSON.stringify(payload))\r\n    },\r\n    getLS(key) {\r\n        return JSON.parse(localStorage.getItem(key))\r\n    },\r\n\r\n    /**  Sort */\r\n    sortByReduction(arr, param) {\r\n        return arr.sort((a,b) => b[param] - a[param]);\r\n    },\r\n    sortByIncreasing(arr, param) {\r\n        return arr.sort((a,b) => a[param] - b[param]);\r\n    },\r\n\r\n    /** Check */\r\n    checkItems(arr, param, state = true) {\r\n        return arr && arr.some(element => state ? element[param] : !element[param])\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"ItemsVacancy_link__3nD_C\",\"del\":\"ItemsVacancy_del__2pi-D\",\"text\":\"ItemsVacancy_text__3Crsq\",\"popup\":\"ItemsVacancy_popup__3FzUR\",\"salary\":\"ItemsVacancy_salary__2N1lY\",\"description\":\"ItemsVacancy_description__cp2LA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"favColor\":\"rgba(255, 165, 0,.4)\",\"newColor\":\"rgba(128, 0, 128, .35)\",\"junColor\":\"rgba(0, 128, 0, .4)\",\"salaryColor\":\"rgba(255, 127, 80, .5)\",\"defaultColor\":\"rgba(169, 169, 169, .4)\",\"btns\":\"Header_btns__1rSaA\",\"btn\":\"Header_btn__1y_LX\",\"disabled\":\"Header_disabled__1cPx7\",\"fav\":\"Header_fav__3aTWp Header_btn__1y_LX\",\"fav-disabled\":\"Header_fav-disabled__3H-5I Header_fav__3aTWp Header_btn__1y_LX Header_disabled__1cPx7\",\"del\":\"Header_del__3kqke Header_btn__1y_LX\",\"del-disabled\":\"Header_del-disabled__QbXf1 Header_del__3kqke Header_btn__1y_LX Header_disabled__1cPx7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ItemsItem_item__1l320\",\"jun\":\"ItemsItem_jun__3z_Xx ItemsItem_item__1l320\",\"title\":\"ItemsItem_title__1VNP3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"favColor\":\"rgba(255, 165, 0,.4)\",\"newColor\":\"rgba(128, 0, 128, .35)\",\"junColor\":\"rgba(0, 128, 0, .4)\",\"salaryColor\":\"rgba(255, 127, 80, .5)\",\"defaultColor\":\"rgba(169, 169, 169, .4)\",\"group\":\"ItemsInner_group__BZ0tP\",\"title\":\"ItemsInner_title__2PTUb\",\"is_fav\":\"ItemsInner_is_fav__SDvDa ItemsInner_group__BZ0tP\",\"is_new\":\"ItemsInner_is_new__2rtEK ItemsInner_group__BZ0tP\",\"is_jun\":\"ItemsInner_is_jun__37x1D ItemsInner_group__BZ0tP\",\"is_salary\":\"ItemsInner_is_salary__2SOrw ItemsInner_group__BZ0tP\",\"default\":\"ItemsInner_default___YoW2 ItemsInner_group__BZ0tP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ItemsTitle_title__x8aKA\",\"active\":\"ItemsTitle_active__JoYEW ItemsTitle_title__x8aKA\"};","module.exports = __webpack_public_path__ + \"static/media/star.80b7ccfb.svg\";","module.exports = __webpack_public_path__ + \"static/media/del.0ce28e41.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Items_nav__j5C8O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"ItemsList_items__1dzit\"};","import React from 'react';\r\nimport styles from '../styles/components/Header.module.scss';\r\nimport fav from '../assets/star.svg';\r\nimport del from '../assets/del.svg';\r\n\r\nconst btns = [\r\n    {\r\n        img: fav,\r\n        className: 'fav',\r\n        disableClassName: 'fav-disabled',\r\n        disableName: 'isFavActive',\r\n        text: 'Очистить избранное',\r\n        actionType: 'favorites',\r\n    },\r\n    {\r\n        img: del,\r\n        className: 'del',\r\n        disableClassName: 'del-disabled',\r\n        disableName: 'isDelActive',\r\n        text: 'Очистить скрытые вакансии',\r\n        actionType: 'blacklist',\r\n    },\r\n]\r\n\r\nexport default function(props) {\r\n\r\n    return (\r\n        <header>\r\n            <div className={ styles.btns }>\r\n                { btns.map((btn, index) =>\r\n                    <button type=\"button\"\r\n                            key={ index }\r\n                            className={ props[btn.disableName] ? styles[btn.className] : styles[btn.disableClassName] }\r\n                            onClick={ () => props.clearItems(btn.actionType) }>\r\n                        { btn.text }\r\n                        <img src={ btn.img }/>\r\n                    </button>\r\n                )}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport styles from '../../styles/components/Items/ItemsVacancy.module.scss';\r\n\r\nexport default class ItemsVacancy extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isHover: false,\r\n        }\r\n\r\n        this.toggleBlacklist = this.toggleBlacklist.bind(this);\r\n        this.handleMouseHover = this.handleMouseHover.bind(this);\r\n    }\r\n\r\n    handleMouseHover() {\r\n        const isHover = !this.state.isHover;\r\n\r\n        this.setState({ isHover })\r\n    }\r\n\r\n    toggleBlacklist(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const params = {\r\n            id: this.props.vacancy.id,\r\n            parentId: this.props.vacancy.employer.id\r\n        };\r\n\r\n        this.props.handleClickAction('blacklist', params);\r\n    }\r\n\r\n    render() {\r\n        const vacancy = this.props.vacancy;\r\n        const salary = vacancy.salary;\r\n\r\n        return (\r\n            <a href={ vacancy.alternate_url }\r\n               className={ styles.link }\r\n               onMouseEnter={this.handleMouseHover}\r\n               onMouseLeave={this.handleMouseHover}\r\n               target=\"_blank\" >\r\n                <span className={ styles.text } >\r\n                    <span>{ salary && '$' }&nbsp;</span>{ vacancy.name }\r\n                </span>\r\n\r\n                { this.state.isHover &&\r\n                    <span className={ styles.popup }>\r\n                        { salary &&\r\n                            <span className={ styles.salary }>{ salary.from }{ salary.from && salary.to ? ' - ' : '' }{ salary.to }</span>\r\n                        }\r\n                        { vacancy.snippet && vacancy.snippet.requirement &&\r\n                            <span className={ styles.description } dangerouslySetInnerHTML={{  __html: this.props.vacancy.snippet.requirement  }} />\r\n                        }\r\n                    </span>\r\n                }\r\n\r\n                <button type=\"button\"\r\n                        className={ styles.del }\r\n                        onClick={ this.toggleBlacklist }/>\r\n\r\n            </a>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport styles from '../../styles/components/Items/ItemsItem.module.scss';\r\nimport ItemsVacancy from './ItemsVacancy';\r\n\r\nexport default function ItemsItem(props) {\r\n\r\n    const logoUrl = props.item.items[0].employer.logo_urls;\r\n\r\n    function toggleFavorite() {\r\n        const params = {\r\n            id: props.item.id,\r\n            parentId: props.item.sort.value\r\n        };\r\n\r\n        props.handleClickAction('favorites', params)\r\n    }\r\n\r\n    return (\r\n        <div className={ props.item.is_jun ? styles.jun : styles.item }>\r\n            <div className={ styles.title }\r\n                 onClick={ toggleFavorite }\r\n                 title=\"В избранное\">\r\n                <h2>{ props.item.name }</h2>\r\n\r\n                { logoUrl && <img src={logoUrl['90']}/> }\r\n            </div>\r\n\r\n            { props.item.items.map((vacancy, index) =>\r\n                !vacancy.is_del &&\r\n                <ItemsVacancy vacancy={vacancy}\r\n                              key={index}\r\n                              handleClickAction={props.handleClickAction} />\r\n            )}\r\n\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport styles from '../../styles/components/Items/ItemsList.module.scss';\r\nimport ItemsItem from './ItemsItem';\r\n\r\nexport default function ItemsList(props) {\r\n\r\n    return (\r\n        <div className={ styles.items }>\r\n            { props.items.map((item, index) =>\r\n                item.haveVisibleItem &&\r\n                <ItemsItem item={ item }\r\n                           key={ index }\r\n                           handleClickAction={ props.handleClickAction } />\r\n            ) }\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport styles from '../../styles/components/Items/ItemsInner.module.scss';\r\nimport ItemsList from './ItemsList';\r\n\r\nconst GROUP_NAMES = {\r\n    is_fav: 'Избранное',\r\n    is_new: 'Новые вакансии',\r\n    is_jun: 'Вакансии для начинающих',\r\n    is_salary: 'Вакансии с указанным окладом',\r\n    default: 'Без дополнительных параметров',\r\n}\r\n\r\nexport default function ItemsInner(props) {\r\n\r\n    return (\r\n        <div className={ styles[props.itemsList.name] }>\r\n            <h3 className={ styles.title }>{ GROUP_NAMES[props.itemsList.name] }:</h3>\r\n            <ItemsList items={ props.itemsList.items }\r\n                       handleClickAction={ props.handleClickAction } />\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\n// import styles from './ItemsSection.module.scss';\r\nimport { sortByReduction, checkItems } from '../../helpers';\r\nimport ItemsInner from './ItemsInner';\r\n\r\n/* todo ? вынести эти параметры из всех компонентов глобально? */\r\nconst ACTION_TYPES = {\r\n    favorites: 'is_fav',\r\n    blacklist: 'is_del',\r\n}\r\n\r\nconst FAVORITE_SORT_VALUE = 4;\r\n\r\nconst DEFAULT_SORT = {\r\n    name: 'default',\r\n    value: 0\r\n};\r\n\r\nexport default class ItemsSection extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            groups: props.section.groups || [],\r\n            isLoaded: !!props.section.groups,\r\n            vacancies: props.section.vacancies || []\r\n        }\r\n\r\n        this.favoritesAction = this.favoritesAction.bind(this);\r\n        this.blacklistAction = this.blacklistAction.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        if(!this.props.section.visibleVacancies)\r\n            (async () => {\r\n                const vacancies = await this.getVacancies();\r\n                const groups = this.groupVacancies(vacancies);\r\n\r\n                const loadedData = {\r\n                    visibleVacancies: this.visibleVacancies(),\r\n                    groups,\r\n                    vacancies: this.state.vacancies\r\n                }\r\n\r\n                this.props.handleLoaded(this.props.section.id, loadedData);\r\n\r\n                this.setState({ groups, isLoaded: true })\r\n            })()\r\n    }\r\n    componentDidUpdate(prevAllProps) {\r\n\r\n        const ACTIONS = [\r\n            {\r\n                name: 'favorites',\r\n                init: this.favoritesAction\r\n            },\r\n            {\r\n                name: 'blacklist',\r\n                init: this.blacklistAction\r\n            },\r\n        ]\r\n\r\n        /* todo ? как-то вынести за componentDidUpdate? */\r\n        ACTIONS.forEach(action => this.activityCheck(action, prevAllProps));\r\n    }\r\n\r\n    visibleVacancies() {\r\n        return this.state.vacancies.length - Object.keys(this.props.blacklist[this.props.section.id]).length;\r\n    }\r\n\r\n    activityCheck(action, prevAllProps){\r\n        /* объекты { вакансия: item } / { item: группа } */\r\n        const prevProps = prevAllProps[action.name][this.props.section.id];\r\n        const actualProps = this.props[action.name][this.props.section.id];\r\n\r\n        /* id вакансий */\r\n        const prevIds = Object.keys(prevProps);\r\n        const actualIds = Object.keys(actualProps);\r\n\r\n        if(prevIds.length === actualIds.length) return;\r\n\r\n        /* todo ? убрать if и всё проходить фильтром, стоит ли? */\r\n        if(prevIds.length > actualIds.length) {\r\n            const changedIds = prevIds.filter(id => !actualIds.includes(id));\r\n\r\n            changedIds.forEach(changedId => {\r\n                const parentId = prevProps[changedId];\r\n\r\n                action.init(action.name, changedId, parentId, false)\r\n            })\r\n        } else {\r\n            const changedId = actualIds.find(vacancyId => !prevIds.includes(vacancyId));\r\n            const parentId = actualProps[changedId];\r\n\r\n            action.init(action.name, changedId, parentId, true);\r\n        }\r\n    }\r\n    favoritesAction(type, id, parentId, isAdding) {\r\n        let groups = [...this.state.groups];\r\n        let prevGroup;\r\n        let newGroup;\r\n        let item;\r\n        let itemIndex;\r\n\r\n        /* todo ? избавился от лишних if'ов, но выглядит довольно убого */\r\n        const PARAMS = {\r\n            adding: {\r\n                parentId: parentId,\r\n                newGroupId() {\r\n                    return FAVORITE_SORT_VALUE\r\n                },\r\n                createNewGroup() {\r\n                    return this.createGroup(\"is_fav\", FAVORITE_SORT_VALUE);\r\n                }\r\n            },\r\n            removing: {\r\n                parentId: FAVORITE_SORT_VALUE,\r\n                newGroupId(item) {\r\n                    return item.sort.value\r\n                },\r\n                createNewGroup() {\r\n                    return this.createGroup(item.sort.name, item.sort.value);\r\n                }\r\n            }\r\n        }\r\n\r\n        const currentParams = isAdding ? PARAMS['adding'] : PARAMS['removing'];\r\n\r\n        prevGroup = groups.find(group => group.sortValue === currentParams.parentId);\r\n\r\n        item = prevGroup.items.find((item, index) => {\r\n            itemIndex = index;\r\n            return item.id === id;\r\n        })\r\n\r\n        newGroup = groups.find(group => group.sortValue === currentParams.newGroupId(item));\r\n\r\n        if(!newGroup) {\r\n            newGroup = currentParams.createNewGroup.call(this);\r\n            groups.push(newGroup);\r\n        }\r\n\r\n        item.is_fav = isAdding;\r\n\r\n        newGroup.items.push(item);\r\n\r\n        prevGroup.items.splice(itemIndex, 1);\r\n\r\n        newGroup.haveVisibleItem = checkItems(newGroup.items, 'haveVisibleItem');\r\n        prevGroup.haveVisibleItem = checkItems(prevGroup.items, 'haveVisibleItem');\r\n\r\n        groups = sortByReduction(groups, 'sortValue');\r\n\r\n        this.props.handleLoaded(this.props.section.id, { groups })\r\n\r\n        this.setState({ groups });\r\n    }\r\n\r\n    blacklistAction(type, id, parentId) {\r\n        let groups = [...this.state.groups];\r\n        let vacancies = [...this.state.vacancies];\r\n\r\n        const vacancy = vacancies.find(vacancy => vacancy.id === id);\r\n\r\n        vacancy[ACTION_TYPES[type]] = !vacancy[ACTION_TYPES[type]];\r\n\r\n        /* Группа работодателей по типу */\r\n        let prevGroup;\r\n        let item;\r\n        let itemIndex;\r\n\r\n        /* todo переделать на parentId - section.id, избежать обхода всех items */\r\n        for(let i in groups) {\r\n            prevGroup = groups[i];\r\n            item = prevGroup.items.find((item, index) => {\r\n                itemIndex = index;\r\n                return item.id === parentId;\r\n            });\r\n\r\n            if(item)\r\n                break;\r\n        }\r\n\r\n        item.haveVisibleItem = checkItems(item.items, 'is_del', false);\r\n\r\n        let topVacancySort = DEFAULT_SORT;\r\n        item.items.forEach(vacancy => {\r\n            if(!vacancy.is_del && vacancy.sort.value > topVacancySort.value)\r\n                topVacancySort = vacancy.sort;\r\n        })\r\n\r\n        if(!item.is_fav && item.sort.value !== topVacancySort.value) {\r\n            item.sort = topVacancySort;\r\n\r\n            let newGroup = groups.find(group => group.sortValue === item.sort.value);\r\n\r\n            if(!newGroup) {\r\n                newGroup = this.createGroup(item.sort.name, item.sort.value);\r\n                groups.push(newGroup);\r\n            }\r\n\r\n            newGroup.items.push(item);\r\n\r\n            prevGroup.items.splice(itemIndex, 1);\r\n\r\n            newGroup.haveVisibleItem = checkItems(newGroup.items, 'haveVisibleItem');\r\n\r\n            groups = sortByReduction(groups, 'sortValue');\r\n        }\r\n\r\n        prevGroup.haveVisibleItem = checkItems(prevGroup.items, 'haveVisibleItem');\r\n\r\n        groups = sortByReduction(groups, 'sortValue');\r\n\r\n        const updatedData = {\r\n            vacancies,\r\n            groups,\r\n            visibleVacancies: this.visibleVacancies()\r\n        }\r\n\r\n        this.props.handleLoaded(this.props.section.id, updatedData)\r\n\r\n        this.setState({ vacancies, groups });\r\n    }\r\n\r\n    /** DATA */\r\n    async getVacancies() {\r\n        let zeroStep = await this.getVacanciesStep(0,'noExperience'); /* todo ? как лучше реализовать отдельный запрос */\r\n        let result = zeroStep.vacancies.map(item => {\r\n            item.is_jun = true;\r\n            return item;\r\n        });\r\n\r\n        let firstStep = await this.getVacanciesStep();\r\n        result = [...result, ...firstStep.vacancies];\r\n        let pagesLeft = firstStep.pagesLeft;\r\n\r\n        if(window.LOAD_ALL_DATA)\r\n            while(--pagesLeft > 0) {\r\n                const step = await this.getVacanciesStep(pagesLeft);\r\n                \r\n                if(!step.items) break;\r\n\r\n                result.push(...step.items);\r\n            }\r\n\r\n        this.setState({ vacancies: result })\r\n\r\n        return result;\r\n    }\r\n    async getVacanciesStep(pageNum = 0, exp = 'between1And3') {\r\n        let response = await fetch(`https://api.hh.ru/vacancies?text=frontend&${this.props.section.location}&per_page=${window.LOAD_ALL_DATA ? 100 : 3}&page=${pageNum}&experience=${exp}`);\r\n\r\n        if (response.ok) {\r\n            const json = await response.json();\r\n\r\n            return {\r\n                vacancies: json.items,\r\n                pagesLeft: json.pages\r\n            };\r\n        } else {\r\n            return new Error(\"Ошибка HTTP: \" + response.status);\r\n        }\r\n    }\r\n    groupVacancies(vacancies) {\r\n        let items = {};\r\n        let validVacancies = [];\r\n        const lastValidDate = new Date(new Date() - (window.NEW_IN_DAYS * 24 * 60 * 60 * 1000));\r\n\r\n        vacancies.forEach(vacancy => {\r\n            /* Проверка на кейворды в имени  */\r\n            if(!vacancy.name.match(window.NECESSARY) || vacancy.name.match(window.UNNECESSARY)) return\r\n\r\n            const employerId = vacancy.employer.id;\r\n\r\n            if(!items.hasOwnProperty(employerId))\r\n                items[employerId] = {\r\n                    id: employerId,\r\n                    name: vacancy.employer.name,\r\n                    sort: DEFAULT_SORT,\r\n                    items: [],\r\n                    haveVisibleItem: false,\r\n                }\r\n\r\n            let item = items[employerId];\r\n\r\n            /* Проверка дублирования вакансий в группе */\r\n            if(item.items.some(item => item.name === vacancy.name)) return;\r\n\r\n            vacancy.sort = DEFAULT_SORT;\r\n\r\n            /* Проверка на наличие в блеклисте */\r\n            if(this.props.blacklist[this.props.section.id].hasOwnProperty(vacancy.id))\r\n                vacancy.is_del = true;\r\n            else\r\n                item.haveVisibleItem = true;\r\n\r\n            const isJun = vacancy.is_jun || vacancy.name.match(window.JUNIOR);\r\n            const isNew = new Date(vacancy.created_at) > lastValidDate;\r\n\r\n            /* Недавняя вакансия в пределах диапазона NEW_IN_DAYS, не добавленная в избранное */\r\n            if(isNew)\r\n                setGroupParams(3, 'is_new');\r\n\r\n            /* Вакансия без опыта, todo повторная проверка */\r\n            if(isJun)\r\n                setGroupParams(2, 'is_jun');\r\n\r\n            /* В вакансии указана зп */\r\n            if(vacancy.salary)\r\n                setGroupParams(1, 'is_salary');\r\n\r\n            function setGroupParams(sortValue, paramName) {\r\n                const sort = {\r\n                    name: paramName,\r\n                    value: sortValue,\r\n                }\r\n\r\n                if(item.sort.value < sortValue)\r\n                    item.sort = sort;\r\n\r\n                if(vacancy.sort.value < sortValue)\r\n                    vacancy.sort = sort;\r\n\r\n                item[paramName] = true;\r\n                vacancy[paramName] = true;\r\n            }\r\n\r\n            item.items.push(vacancy);\r\n            validVacancies.push(vacancy);\r\n        })\r\n\r\n        this.setState({ vacancies: validVacancies })\r\n\r\n        return this.groupItems(Object.values(items));\r\n    }\r\n\r\n    groupItems(items) {\r\n        const groups = {};\r\n\r\n        items.forEach(item => {\r\n            const isFav = this.props.favorites[this.props.section.id].hasOwnProperty(item.id);\r\n\r\n            let groupType;\r\n            let sortValue;\r\n\r\n            if(isFav) {\r\n                groupType = 'is_fav';\r\n                sortValue = FAVORITE_SORT_VALUE;\r\n            } else {\r\n                groupType = item.sort.name;\r\n                sortValue = item.sort.value;\r\n            }\r\n\r\n            if(!groups[groupType])\r\n                groups[groupType] = this.createGroup(groupType, sortValue)\r\n\r\n            groups[groupType].items.push(item);\r\n        })\r\n\r\n        for(let i in groups) {\r\n            const group = groups[i];\r\n            group.haveVisibleItem = checkItems(group.items, 'haveVisibleItem');\r\n        }\r\n\r\n        return sortByReduction(Object.values(groups), 'sortValue');\r\n    }\r\n\r\n    createGroup(name, sortValue, items = []) {\r\n        return {\r\n            name,\r\n            sortValue,\r\n            haveVisibleItem: true,\r\n            items\r\n        }\r\n    }\r\n\r\n    /** Render */\r\n    renderItemsOnLoad() {\r\n        return this.visibleVacancies ? this.renderItems() : this.renderItemsIsEmpty();\r\n    }\r\n    renderItems() {\r\n        return (\r\n            this.state.groups.map((item, index) =>\r\n                item.haveVisibleItem &&\r\n                <ItemsInner itemsList={ item }\r\n                            section={ this.props.section }\r\n                            key={ index }\r\n                            handleClickAction={(type, params) => this.props.handleClickAction(type, this.props.section.id, params)} />\r\n            )\r\n        )\r\n    }\r\n    renderItemsIsEmpty() {\r\n        return <h3>Подходящих вакансий не найдено :(</h3>;\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <section>\r\n                { this.state.isLoaded ?\r\n                    this.renderItemsOnLoad()\r\n                    :\r\n                    <h3>Загрузка...</h3>\r\n                }\r\n            </section>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport styles from '../../styles/components/Items/ItemsTitle.module.scss';\r\n\r\nexport default function ItemsTitle(props) {\r\n\r\n    const section = props.section;\r\n\r\n    function handleClick() {\r\n\r\n        if(!section.is_active)\r\n            props.handleClick(section.id);\r\n    }\r\n\r\n    return (\r\n        <div className={ section.is_active ? styles.active : styles.title }\r\n             onClick={ handleClick }>\r\n            { section.name }\r\n            { (section.is_active || section.groups) &&\r\n                <span>: { section.visibleVacancies > 0 ? section.visibleVacancies : '...' }</span>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport styles from '../../styles/components/Items/Items.module.scss';\r\nimport ItemsSection from './ItemsSection';\r\nimport ItemsTitle from \"./ItemsTitle\";\r\n\r\n\r\nexport default class extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.props.locations[0].is_active = true;\r\n\r\n        this.state = {\r\n            sections: this.props.locations,\r\n            activeSectionId: this.props.locations[0].id,\r\n        }\r\n\r\n        this.handleLoaded = this.handleLoaded.bind(this);\r\n        this.handleClickSectionTitle = this.handleClickSectionTitle.bind(this);\r\n    }\r\n\r\n    handleClickSectionTitle(id) {\r\n        const sections = this.state.sections;\r\n        let activeSection;\r\n        let prevActiveSection;\r\n\r\n        for(let section of sections) {\r\n            if(section.id === id)\r\n                activeSection = section;\r\n\r\n            if(section.id === this.state.activeSectionId)\r\n                prevActiveSection = section;\r\n\r\n            if(activeSection && prevActiveSection)\r\n                break;\r\n        }\r\n\r\n        activeSection.is_active = true;\r\n        prevActiveSection.is_active = false;\r\n\r\n        this.setState({ sections , activeSectionId: id });\r\n    }\r\n    /* todo ? приемлемо ли апдейтить стейт из дочернего компонента? (кажется что нет) */\r\n    handleLoaded(id, loadedData) {\r\n        const sections = this.state.sections;\r\n        const activeSection = sections.find(section => section.id === id);\r\n\r\n        for(let i in loadedData)\r\n            activeSection[i] = loadedData[i]\r\n\r\n        this.setState({ sections });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <main>\r\n                <div className={ styles.nav }>\r\n                    { this.state.sections.map((section, index) =>\r\n                        <ItemsTitle section={ section }\r\n                                    quantity={ this.state.activeQuantity }\r\n                                    handleClick={ this.handleClickSectionTitle }\r\n                                    key={ index } />\r\n                    )}\r\n                </div>\r\n                { this.state.sections.map((section, index) =>\r\n                    section.is_active &&\r\n                    <ItemsSection section={ section }\r\n                                  key={ index }\r\n                                  handleLoaded={ this.handleLoaded }\r\n                                  handleClickAction={ this.props.handleClickAction }\r\n                                  favorites={ this.props.favorites }\r\n                                  blacklist={ this.props.blacklist } />\r\n                )}\r\n            </main>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { setLS, getLS } from '../helpers';\r\nimport Header from '../components/Header';\r\nimport Items from '../components/Items/Items';\r\n\r\nexport default class Main extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        /**\r\n         *\r\n         * @type {{favorites: Object, blacklist: Object}}\r\n         * favorites: { 'ekb': [Работодатели] }\r\n         * blacklist: { 'ekb': [Вакансии] }\r\n         */\r\n        this.state = {\r\n            favorites: this.getDataFromStorage('favorites'),\r\n            blacklist: this.getDataFromStorage('blacklist'),\r\n        }\r\n\r\n        this.clearItems = this.clearItems.bind(this);\r\n        this.handleClickAction = this.handleClickAction.bind(this);\r\n    }\r\n\r\n    isBtnActive(type) {\r\n\r\n        for(let location in this.state[type]) {\r\n            if(Object.keys(this.state[type][location]).length) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    /** Store actions */\r\n    getDataFromStorage(type) {\r\n        const storage = getLS(type);\r\n        const empty = this.createEmptyStore(type);\r\n\r\n        if(!storage || Object.keys(storage) < Object.keys(empty))\r\n            return empty;\r\n        else\r\n            return storage;\r\n    }\r\n    createEmptyStore() {\r\n        const result = {};\r\n\r\n        this.props.locations.forEach(location => result[location.id] = {})\r\n\r\n        return result;\r\n    }\r\n\r\n\r\n    /** Btn actions */\r\n    handleClickAction(type, sectionId, params) {\r\n        const items = {...this.state[type][sectionId]};\r\n\r\n        if(items.hasOwnProperty(params.id))\r\n            delete items[params.id];\r\n        else\r\n            items[params.id] = params.parentId;\r\n\r\n        const result = {...this.state[type]};\r\n\r\n        result[sectionId] = items;\r\n\r\n        this.setItems(type, result);\r\n    }\r\n    clearItems(type) {\r\n        const result = this.createEmptyStore(type);\r\n\r\n        this.setItems(type, result);\r\n    }\r\n    setItems(type, payload) {\r\n        this.setState({ [type]: payload });\r\n\r\n        setLS(type, payload);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"main\">\r\n                <Header clearItems={ this.clearItems }\r\n                        isFavActive={ this.isBtnActive('favorites') }\r\n                        isDelActive={ this.isBtnActive('blacklist') }/>\r\n\r\n                <Items handleClickAction={ this.handleClickAction }\r\n                       locations={ this.props.locations }\r\n                       favorites={ this.state.favorites }\r\n                       blacklist={ this.state.blacklist } />\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\nimport Main from './pages/Main';\n\nexport default function App(props) {\n\n  return (\n    <div>\n        <Main locations={ props.locations }/>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/style.css';\nimport App from './App';\n\n// debug\nwindow.LOAD_ALL_DATA = true;\n\nconst LOCATION_PARAMS = [\n    {\n        'id': 'ekb',\n        'name': 'Екатеринбург',\n        'location': 'area=3',\n    },\n    {\n        'id': 'remote',\n        'name': 'Удалённо',\n        'location': 'schedule=remote'\n    },\n]\n\n// Регулярки имени вакансии\nwindow.NEW_IN_DAYS = 1;\nwindow.NECESSARY = new RegExp(/front|фронт|js|javascript/i);\nwindow.UNNECESSARY = new RegExp(/backend|fullstack|SQL|lead|ведущий|angular/i);\nwindow.JUNIOR = new RegExp(/junior|стажер|младший/i);\nwindow.COMPANY_BLACKLIST = ['4932875','46587']; /* TODO забивается руками */\n\nReactDOM.render(\n  <React.StrictMode>\n    <App locations={ LOCATION_PARAMS } />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}